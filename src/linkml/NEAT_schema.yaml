id:  https://w3id.org/neat_schema
name: NEAT_schema
description: A schema generated by LinkML for specifying graph ML pipelines in NEAT.
license: https://fsf.org/
prefixes:
  linkml: https://w3id.org/linkml/
imports:
  linkml:types
default_range: string

# #==================================
# # Classes #
# #==================================
# # Params node_type and edge_type attributes could have range: uriorcurie
# # but leaving them to be the default (str) for now.
classes:
  NeatConfiguration:
    tree_root: true
    attributes:
      graph_data:
        range: GraphDataConfiguration

  GraphDataConfiguration:
    attributes:
      graph:
        range: EnsmallenRunConfig
      data:
        range: TrainValidData

  TrainValidData:
    attributes:
      train_data:
        range: PosNegData
      valid_data:
        range: PosNegData

  PosNegData:
  # Strings for now. These are actually paths/urls(maybe?)
    attributes:
      pos_edge_filepath:
      neg_edge_filepath:

  EmbeddingsConfig:
    attributes:
      filename:
      history_filename:
      node_embeddings_params:
        range: NodeEmbeddingsParams
      tsne_filename:

  NodeEmbeddingsParams:
    attributes:
      method_name:
        range: node_embed_method_enum
      walk_length:
        range: integer
      batch_size:
        range: integer
      window_size:
        range: integer
      return_weight:
        range: float
      explore_weight:
        range: float
      iterations:
        range: integer

  ClassifierContainer:
    description: A container with multiple classifiers in it.
    attributes:
      classifiers:
        multivalued: true
        inlined_as_list: true
        range: Classifier

  Classifier:
    description: ML classifiers to be trained-tested-validated and applied for predictions.
    attributes:
      classifier_id:
      classifier_name:
      classifier_type:
      edge_method:
        range: edge_method_enum
      outfile:
      history_filename:
      parameters:
        range: ClassifierParams
      layers:
        range: LayerContainer
      metrics:
        range: MetricContainer
      optimizer:
        range: optimizer_enum
      fit:
        range: ClassifierFitParams


  ClassifierParams:
    description: Parameters needed to define a classifier.
    attributes:
      random_state:
        range: integer
      max_iter:
        range: integer

  LayerContainer:
    description: A container of neural network layers.
    attributes:
      layers:
        multivalued: true
        inlined_as_list: true
        range: Layer


  Layer:
    description: Layers for a neural network.
    attributes:
      type:
      parameters:
        range: LayerParams

  LayerParams:
    description: Parameters for each layer of a neural network.
    attributes:
      units:
        range: integer
      activation:
        range: activation_enum

  MetricContainer:
    description: A container of metrics for a trained classifier.
    attributes:
      metrics:
        range: Metric
  
  Metric:
    description: Metrics of a trained classifier (model).
    attributes:
      metric_name:
      type:
      curve:
  
  ClassifierFitParams:
    description: Paramters for fitting a classifier.
    attributes:
      batch_size:
        range: integer
      epochs:
        range: integer
      callbacks:
        range: ClassifierCallbackContainer
  
  ClassifierCallbackContainer:
    description: A container of classifier callbacks.
    attributes:
      classbacks:
        multivalued: true
        inlined_as_list: true
        range: ClassifierCallback
  
  ClassifierCallback:
    description: Callbacks for a classifier.
    attributes:
      type:
      monitor:
      patience:
        range: integer
      min_delta:
        range: integer
      verbose:
        range: boolean
      mode:
        range: classifier_callback_mode_enum

  ApplyTrainedModelsContainer:
    description: A container with multiple classifiers in it.
    attributes:
      models:
        multivalued: true
        inlined_as_list: true
        range: ApplyTrainedModel

  ApplyTrainedModel:
    description: Trained model used for prediction.
    attributes:
      model_id:
      node_types:
        range: NodeType
      cutoff:
      outfile:

  NodeType:
    attributes:
      source:
        multivalued: true
        inlined_as_list: true
      destination:
        multivalued: true
        inlined_as_list: true

  Upload:
    attributes:
      s3_bucket:
      s3_bucket_dir:
      extra_args:
        multivalued: true
        inlined_as_list: false

  Target:
    description: Path for output to be saved.
    attributes:
      target_path:

  EnsmallenRunConfig:
    description: All params used by ensmallen's csv_reader
    attributes:
      node_type_path:
      node_type_list_separator:
      node_types_column_number:
        range: integer
      node_types_column:
      node_types_ids_column_number:
        range: integer
      node_types_ids_column:
      node_types_number:
        range: integer
      numeric_node_type_ids:
        range: boolean
      minimum_node_type_id:
        range: integer
      node_type_list_header:
        range: boolean
      node_type_list_rows_to_skip:
        range: integer
      node_type_list_is_correct:
        range: boolean
      node_type_list_max_rows_number:
        range: integer
      node_type_list_comment_symbol:
      load_node_type_list_in_parallel:
        range: boolean
      node_path:
      node_list_separator:
      node_list_header:
        range: boolean
      node_list_rows_to_skip:
        range: integer
      node_list_is_correct:
        range: boolean
      node_list_max_rows_number:
        range: integer
      node_list_comment_symbol:
      default_node_type:
      nodes_column_number:
        range: integer
      nodes_column:
      node_types_separator:
      node_list_node_types_column_number:
        range: integer
      node_list_node_types_column:
      node_ids_column:
      node_ids_column_number:
        range: integer
      nodes_number:
          range: integer
      minimum_node_id:
        range: integer
      numeric_node_ids:
        range: boolean
      node_list_numeric_node_type_ids:
        range: boolean
      skip_node_types_if_unavailable:
        range: boolean
      load_node_list_in_parallel:
        range: boolean
      edge_type_path:
      edge_types_column_number:
        range: integer
      edge_types_column:
      edge_types_ids_column_number:
        range: integer
      edge_types_ids_column:
      edge_types_number:
        range: integer
      numeric_edge_type_ids:
        range: boolean
      minimum_edge_type_id:
        range: integer
      edge_type_list_separator:
      edge_type_list_header:
        range: boolean
      edge_type_list_rows_to_skip:
        range: integer
      edge_type_list_is_correct:
        range: boolean
      edge_type_list_max_rows_number:
        range: integer
      edge_type_list_comment_symbol:
      load_edge_type_list_in_parallel:
        range: boolean
      edge_path:
      edge_list_separator:
      edge_list_header:
        range: boolean
      edge_list_rows_to_skip:
        range: integer
      sources_column_number:
        range: integer
      sources_column:
      destinations_column_number:
        range: integer
      destinations_column:
      edge_list_edge_types_column_number:
        range: integer
      edge_list_edge_types_column:
      default_edge_type:
      weights_column_number:
        range: integer
      weights_column:
      default_weight:
        range: float
      edge_ids_column:
      edge_ids_column_number:
        range: integer
      edge_list_numeric_edge_type_ids:
        range: boolean
      edge_list_numeric_node_ids:
        range: boolean
      skip_weights_if_unavailable:
        range: boolean
      skip_edge_types_if_unavailable:
        range: boolean
      edge_list_is_complete:
        range: boolean
      edge_list_may_contain_duplicates:
        range: boolean
      edge_list_is_sorted:
        range: boolean
      edge_list_is_correct:
        range: boolean
      edge_list_max_rows_number:
        range: integer
      edge_list_comment_symbol:
      edges_number:
        range: integer
      load_edge_list_in_parallel:
        range: boolean
      verbose:
        range: boolean
      may_have_singletons:
        range: boolean
      may_have_singleton_with_selfloops:
        range: boolean
      directed:
        range: boolean
      name: {}


#==================================
# Enums                           #
#==================================
enums:
  node_embed_method_enum:
    permissible_values:
      SkipGram:
        description: ##NEED DESCRIPTION
      CBOW:
        description: ##NEED DESCRIPTION
      GloVe:
        description: ##NEED DESCRIPTION
      Siamese:
        description: ##NEED DESCRIPTION
      TransE:
        description: ##NEED DESCRIPTION
      SimplE:
        description: ##NEED DESCRIPTION
      TransH:
        description: ##NEED DESCRIPTION
      TransR:
        description: ##NEED DESCRIPTION

  edge_method_enum:
    permissible_values:
      Average:
        description: ##NEED DESCRIPTION
      Hadamard:
        description: ##NEED DESCRIPTION
      Sum:
        description: ##NEED DESCRIPTION
      L1:
        description: ##NEED DESCRIPTION
      L2:
        description: ##NEED DESCRIPTION
      AbsoluteL1:
        description: ##NEED DESCRIPTION

  activation_enum:
    permissible_values:
      linear:
        description: Linear function.
      relu:
        description: Rectified Linear Unit (ReLU)
      sigmoid:
        description: Sigmoid activation function.
      tanh:
        description: The tanh function.
      softmax:
        description: Softmax (or softargmax) function.

  optimizer_enum:
    description: Optimizers that can be implemented in the neural network.
    permissible_values:
      Adagrad:
        description: Optimizer that implements the Adagrad algorithm.
      Adam:
        description: Optimizer that implements the Adam algorithm.
      Adamax:
        description: Optimizer that implements the Adamax algorithm.
      Nadam:
        description: Optimizer that implements the NAdam algorithm.
      SGD:
        description: Stochastic gradient descent (with momentum) optimizer.

  classifier_callback_mode_enum:
    description: Callback modes while fitting a classifier.
    permissible_values:
      auto:
        description: In 'auto' mode, the direction is automatically inferred from the name of the monitored quantity.
      min:
        description: In 'min' mode, the learning rate will be reduced when the quantity monitored has stopped decreasing.
      max:
        description: In 'max' mode, the learning rate will be reduced when the quantity monitored has stopped increasing


  
